{"version":3,"file":"angular-resize-event.umd.js","sources":["../../../projects/angular-resize-event/src/lib/resized-event.ts","../../../projects/angular-resize-event/src/lib/resized.directive.ts","../../../projects/angular-resize-event/src/lib/angular-resized-event.module.ts","../../../projects/angular-resize-event/src/public-api.ts","../../../projects/angular-resize-event/src/angular-resize-event.ts"],"names":["EventEmitter","ResizeSensor","Directive","ElementRef","Output","NgModule"],"mappings":";;;;;;;QAGE,sBACW,OAAmB,EACnB,QAAgB,EAChB,SAAiB,EACjB,QAAgB,EAChB,SAAiB;AAC3B,YALU,YAAO,GAAP,OAAO,CAAY;AAAC,YACpB,aAAQ,GAAR,QAAQ,CAAQ;AAAC,YACjB,cAAS,GAAT,SAAS,CAAQ;AAAC,YAClB,aAAQ,GAAR,QAAQ,CAAQ;AAAC,YACjB,cAAS,GAAT,SAAS,CAAQ;AAC9B,SAAM;AACN,2BAAC;AACA,KADA;AACG;AAAC;AAAwD,QCO3D,0BAA6B,OAAmB;AAClD,YAD+B,YAAO,GAAP,OAAO,CAAY;AAAC,YAPxC,YAAO,GAAG,IAAIA,iBAAY,EAAgB,CAAC;AACtD,SAOG;AACH,QACE,mCAAQ,GAAR;AAAc,YAAd,iBAKC;AACH;AAGiB,YAPb,IAAIC,8BAAY,EAAE;AACtB,gBAAM,IAAI,CAAC,YAAY,GAAG,IAAIA,8BAAY,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,cAAM,OAAA,KAAI,CAAC,SAAS,EAAE,GAAA,CAAC,CAAC;AAC/F,aAAK;AACL,SAAG;AAEH,QAAE,sCAAW,GAAX;AAAc,YACZ,IAAI,IAAI,CAAC,YAAY,EAAE;AAC3B,gBAAM,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;AACjC,aAAK;AACL,SAAG;AAEH,QAAU,oCAAS,GAAT;AAAc,YACpB,IAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,WAAW,CAAC;AAC5D,YAAI,IAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,YAAY,CAAC;AAC9D,YACI,IAAI,QAAQ,KAAK,IAAI,CAAC,QAAQ,IAAI,SAAS,KAAK,IAAI,CAAC,SAAS,EAAE;AACpE,gBAAM,OAAO;AACb,aAAK;AACL,YACI,IAAM,KAAK,GAAG,IAAI,YAAY,CAC5B,IAAI,CAAC,OAAO,EACZ,QAAQ,EACR,SAAS,EACT,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,SAAS,CACf,CAAC;AACN,YACI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,WAAW,CAAC;AAC3D,YAAI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,YAAY,CAAC;AAC7D,YACI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC7B,SAAG;;;;;;;;;;;oBACH;AACA;AAC+B,SAjDtB;oDAJRC,pDAIS;KAJA,SAAC,dAMF,gBAVWC,eAAU;AAAG;AAAU;mBAMzC,QAAQ,EAAE,WAAW,xCAN4D,0BAUhFC,WAAM;AACR;AAAO;SAJP,TAIQ;AAES,QCJlB;AAAuC;;;;;;;;;;;;gMAClC;AAAC;AAA0C,SADvC;AAAC;AAAC,ICTX;AACA;GDECC,HCAD;AACO;ODDE,PCCD,ICJR;QFGU,sBACR,YAAY,1CEHd;AFGgB,CAAC,DEDjB;AACO;QFA0B,CAAC,sBAChC,OAAO,EAAE,EACR,sBACD,hEEHM;IFGC,EAAE,CAAC,gBAAgB,CAAC,kBAC5B,1CEH4C;AAAiD;AAAyC;AAAC;AAAmE;AAAC;AAAM","sourcesContent":["import { ElementRef } from '@angular/core';\n\nexport class ResizedEvent {\n  constructor(\n    readonly element: ElementRef,\n    readonly newWidth: number,\n    readonly newHeight: number,\n    readonly oldWidth: number,\n    readonly oldHeight: number\n  ) {}\n}\n","import { Directive, ElementRef, EventEmitter, OnInit, Output, OnDestroy } from '@angular/core';\nimport { ResizeSensor } from 'css-element-queries';\nimport { ResizedEvent } from './resized-event';\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[resized]'\n})\nexport class ResizedDirective implements OnInit, OnDestroy {\n\n  @Output()\n  readonly resized = new EventEmitter<ResizedEvent>();\n\n  private oldWidth: number;\n  private oldHeight: number;\n\n  private resizeSensor: ResizeSensor;\n\n  constructor(private readonly element: ElementRef) {\n  }\n\n  ngOnInit(): void {\n    // only initialize resize watching if sensor is availablei\n    if (ResizeSensor) {\n      this.resizeSensor = new ResizeSensor(this.element.nativeElement, () => this.onResized());\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this.resizeSensor) {\n      this.resizeSensor.detach();\n    }\n  }\n\n  private onResized(): void {\n    const newWidth = this.element.nativeElement.clientWidth;\n    const newHeight = this.element.nativeElement.clientHeight;\n\n    if (newWidth === this.oldWidth && newHeight === this.oldHeight) {\n      return;\n    }\n\n    const event = new ResizedEvent(\n      this.element,\n      newWidth,\n      newHeight,\n      this.oldWidth,\n      this.oldHeight\n    );\n\n    this.oldWidth = this.element.nativeElement.clientWidth;\n    this.oldHeight = this.element.nativeElement.clientHeight;\n\n    this.resized.emit(event);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { ResizedDirective } from './resized.directive';\n\n@NgModule({\n  declarations: [ResizedDirective],\n  imports: [\n  ],\n  exports: [ResizedDirective]\n})\nexport class AngularResizedEventModule { }\n","/*\n * Public API Surface of angular-resize-event\n */\n\nexport * from './lib/resized-event';\nexport * from './lib/resized.directive';\nexport * from './lib/angular-resized-event.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]}